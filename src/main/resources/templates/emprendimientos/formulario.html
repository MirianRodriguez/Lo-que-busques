<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:replace="fragmentos/head :: head"></head>

<body>
    <header th:replace="fragmentos/header :: header"></header>
    <main>

        <div class="container">
            <div class="row mt-5">
                <div class="col-8">
                    <form th:action="@{emprendimientos/__${action}__}" th:object="${emprendimientoDTO}" method="post"
                        class="needs-validation" enctype="multipart/form-data" novalidate>
                        <input type="hidden" th:field="*{emprendimientoId}">
                        <input type="hidden" th:field="*{domicilioId}">

                        <div class="mb-3">
                            <label for="nombre" class="form-label">Nombre emprendimiento</label>
                            <input type="text" th:field="*{nombre}" placeholder="Nombre emprendimiento"
                                class="form-control" required />
                            <div class="invalid-feedback">El nombre de emprendimiento es requerido</div>
                        </div>

                        <div class="mb-3">
                            <label for="descripcion" class="form-label">Descripción</label>
                            <input type="text" th:field="*{descripcion}" placeholder="Descripción" class="form-control"
                                required />
                            <div class="invalid-feedback">La descripción es requerida</div>
                        </div>

                        <div class="mt-3">
                            <label for="foto">Subir imagen</label>
                            <input class="form-control mt-3" type="file" name="foto" accept="image/*">
                        </div>

                        <div class="mb-3">
                            <label for="telefono" class="form-label">Teléfono</label>
                            <input type="number" th:field="*{telefono}" name="telefono" placeholder="Teléfono" class="form-control" required />
                            <div class="invalid-feedback">Teléfono es requerido</div>
                        </div>

                        <div class="mb-3">
                            <label for="horario" class="form-label">Horarios de atención</label>
                            <input type="text" th:field="*{horario}" placeholder="Horarios" class="form-control" required />
                            <div class="invalid-feedback">Horario es requerido</div>
                        </div>

                        <div class="mb-3">
                            <label for="formasPago" class="form-label">Formas de pago</label>
                            <select th:field="*{FormasPago}" id="FormasPago" class="form-select" multiple>
                                <option Selected value=""></option>
                                <option th:each="tipo : ${formasPagos}" th:text="${tipo.name}" th:value="${tipo.name}"></option>
                            </select>
                        </div>

                        <div class="mb-3">
                            <label for="categoria" class="form-label">Categoría</label>
                            <select th:field="*{categorias}" id="categoria" class="form-select" aria-label="Select categoría" multiple>
                                <option th:each="categoria : ${categorias}" th:value="${categoria.id}" th:text="${categoria.nombre}">  </option>
                            </select>
                            <div class="invalid-feedback">Categoria es Requerido</div>
                        </div>

                        <div class="mb-3">
                            <label for="inicioActividades">Inicio actividad</label>
                            <input type="date" th:field="*{inicioActividades}" placeholder="Año de inicio actividad" required />
                            <div class="invalid-feedback">Inicio Actividad es Requerido</div>
                        </div>

                        <div class="mb-3">
                            <div>
                                <button class="btn btn-primary" type="submit"
                                    th:text="${action == 'crear' ? 'Crear' : 'Actualizar'}">
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </main>
    <footer th:replace="fragmentos/footer :: footer"></footer>
    <script th:src="@{/js/bootstrap.bundle.min.js}"></script>
    <script th:src="@{/js/validation.js}"></script>
</body>

</html>